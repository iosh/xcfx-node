FROM ubuntu:24.04
RUN apt-get update && apt-get install -y 

RUN apt-get update && \
    apt-get install -y clang libsqlite3-dev pkg-config libssl-dev cmake curl unzip

RUN  curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh -s -- -y 

RUN curl -fsSL https://fnm.vercel.app/install | bash && \
    . ~/.bashrc && \
    fnm use --install-if-missing 20 && \
    npm install pnpm -g && \
    rustup target add x86_64-unknown-linux-gnu

RUN apt install git   libc++-dev -y
ENV PATH="/root/.cargo/bin:${PATH}"

ENV CC=clang
ENV CXX=clang++
ENV CXXFLAGS="-std=c++11 -stdlib=libc++"
ENV LDFLAGS="-stdlib=libc++"